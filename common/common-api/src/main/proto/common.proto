syntax = "proto3";

package game.proto;

option java_package = "com.game.proto";
option java_outer_classname = "CommonProto";
option java_multiple_files = false;

// ==================== 通用消息 ====================

// 通用结果
message Result {
    int32 code = 1;              // 错误码，0 表示成功
    string message = 2;          // 错误信息
}

// 空请求
message EmptyRequest {
}

// 空响应
message EmptyResponse {
    Result result = 1;
}

// ==================== 基础数据类型 ====================

// 物品信息
message ItemInfo {
    int32 item_id = 1;           // 物品配置 ID
    int64 count = 2;             // 数量
}

// 物品实例 (带唯一 ID)
message ItemInstance {
    int64 uid = 1;               // 物品唯一 ID
    int32 item_id = 2;           // 物品配置 ID
    int64 count = 3;             // 数量
    int64 expire_time = 4;       // 过期时间 (0 表示永久)
    map<string, string> attrs = 5; // 扩展属性
}

// 装备信息
message EquipmentInfo {
    int64 uid = 1;               // 装备唯一 ID
    int32 equip_id = 2;          // 装备配置 ID
    int32 level = 3;             // 强化等级
    int32 star = 4;              // 星级
    repeated int32 gems = 5;     // 镶嵌宝石
    map<string, int32> attrs = 6; // 属性加成
}

// 奖励信息
message RewardInfo {
    repeated ItemInfo items = 1;         // 物品奖励
    int64 gold = 2;                      // 金币奖励
    int64 diamond = 3;                   // 钻石奖励
    int64 exp = 4;                       // 经验奖励
}

// 分页请求
message PageRequest {
    int32 page = 1;              // 页码 (从 1 开始)
    int32 size = 2;              // 每页大小
}

// 分页响应
message PageInfo {
    int32 page = 1;              // 当前页码
    int32 size = 2;              // 每页大小
    int64 total = 3;             // 总记录数
    int32 total_pages = 4;       // 总页数
}

// 时间范围
message TimeRange {
    int64 start_time = 1;        // 开始时间
    int64 end_time = 2;          // 结束时间
}
