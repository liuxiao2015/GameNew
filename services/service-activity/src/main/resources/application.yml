server:
  port: ${SERVER_PORT:9070}
  shutdown: graceful

spring:
  application:
    name: service-activity
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  
  # MongoDB 配置
  data:
    mongodb:
      uri: mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27017}/${MONGO_DATABASE:game_server}?authSource=${MONGO_AUTH_DB:game_server}&maxPoolSize=3&maxIdleTimeMS=30000&retryWrites=false
      database: ${MONGO_DATABASE:game_server}
      auto-index-creation: true
      uuid-representation: standard
    
    # Redis 配置（Redisson使用 - 单机模式）
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:123456}
      database: ${REDIS_DB:1}
      timeout: 3s
      connect-timeout: 3s

# Dubbo
dubbo:
  application:
    name: ${spring.application.name}
    qos-enable: false
  registry:
    address: nacos://${NACOS_ADDR:localhost:8848}
    parameters:
      namespace: ${NACOS_NAMESPACE:public}
  protocol:
    name: dubbo
    port: ${DUBBO_PORT:20870}
  provider:
    timeout: 5000
    retries: 0
  consumer:
    timeout: 5000
    check: false

# 活动配置
activity:
  # 活动状态检查间隔 (秒)
  check-interval-seconds: 60
  # 活动预告提前时间 (分钟)
  preview-minutes: 30
  # 活动结束后数据保留天数
  data-retention-days: 30

# 日志配置
logging:
  level:
    com.game: INFO
    org.apache.dubbo: WARN
