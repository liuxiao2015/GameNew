# ==================== 公会服务配置 ====================

spring:
  application:
    name: service-guild
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

# ==================== 服务端口 ====================
server:
  port: ${SERVER_PORT:8083}

# ==================== Dubbo 配置 ====================
dubbo:
  application:
    name: ${spring.application.name}
    qos-enable: false
  registry:
    address: nacos://${NACOS_ADDR:localhost:8848}
    parameters:
      namespace: ${NACOS_NAMESPACE:public}
  protocol:
    name: dubbo
    port: ${DUBBO_PORT:20883}
    threads: 200
  provider:
    timeout: 5000
    retries: 0
    loadbalance: consistenthash
  consumer:
    timeout: 5000
    retries: 0
    check: false

# ==================== MongoDB 配置 ====================
spring.data.mongodb:
  uri: mongodb://${MONGO_USER:game_user}:${MONGO_PASS:game_user_123}@${MONGO_HOST:localhost:27017}/${MONGO_DB:game_server}?authSource=${MONGO_DB:game_server}

# ==================== Redis 配置 ====================
spring.data.redis:
  host: ${REDIS_HOST:localhost}
  port: ${REDIS_PORT:6379}
  password: ${REDIS_PASS:game123}
  database: ${REDIS_DB:0}
  lettuce:
    pool:
      max-active: 50
      max-idle: 20
      min-idle: 5
      max-wait: 3000ms

# ==================== Actor 配置 ====================
game:
  actor:
    guild:
      max-size: 1000
      idle-timeout-minutes: 60
      save-interval-seconds: 600

# ==================== 公会配置 ====================
game:
  guild:
    # 创建公会消耗钻石
    create-cost: 500
    # 公会名最小长度
    name-min-length: 2
    # 公会名最大长度
    name-max-length: 12
    # 初始最大成员数
    init-max-member: 30

# ==================== 日志配置 ====================
logging:
  config: classpath:logback-spring.xml
  level:
    com.game: ${LOG_LEVEL:DEBUG}
